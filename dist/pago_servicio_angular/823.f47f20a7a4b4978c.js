"use strict";(self.webpackChunkpago_servicio_angular=self.webpackChunkpago_servicio_angular||[]).push([[823],{5823:(A,m,r)=>{r.r(m),r.d(m,{LoginModule:()=>y});var l=r(6895),n=r(4006),d=r(3060),t=r(4650),p=r(6740),g=r(3648),f=r(5657);function v(e,a){1&e&&(t.TgZ(0,"div"),t._uU(1," Correo es requerido "),t.qZA())}function h(e,a){if(1&e&&(t.TgZ(0,"div",42),t.YNc(1,v,2,0,"div",43),t.qZA()),2&e){const s=t.oxw();t.xp6(1),t.Q6J("ngIf",s.f.name.errors.required)}}function Z(e,a){1&e&&(t.TgZ(0,"span"),t._uU(1,"Contrase\xf1a es requerida"),t.qZA())}function T(e,a){if(1&e&&(t.TgZ(0,"div",44),t.YNc(1,Z,2,0,"span",43),t.qZA()),2&e){const s=t.oxw();t.xp6(1),t.Q6J("ngIf",s.f.password.errors.required)}}function b(e,a){1&e&&(t.TgZ(0,"span",45)(1,"span",46),t._uU(2," Cargando.."),t.qZA()())}const c=function(e){return{"is-invalid":e}},x=function(e,a){return{"mdi-eye-off-outline":e,"mdi-eye-outline":a}},w=[{path:"",component:(()=>{class e{constructor(s,o,i,u,_){this.formBuilder=s,this.router=o,this.authService=i,this.toastr=u,this.cookieService=_,this.submitted=!1,this.error="",this.year=(new Date).getFullYear()}ngOnInit(){this.loginForm=this.formBuilder.group({name:["",[n.kI.required]],password:["",n.kI.required]})}get f(){return this.loginForm.controls}onSubmit(){if(!this.submitted){if(this.submitted=!0,this.loginForm.invalid)return void(this.submitted=!1);let s=this.loginForm.get("name")?.value,o=this.loginForm.get("password")?.value;this.authService.login({email:s,password:o}).then(i=>{0==i.success?(this.submitted=!1,this.toastr.error(i.message,"\xa1No se pudo iniciar sesion!")):(i&&i.token&&this.cookieService.set("token",i.token),this.toastr.success(i.message,"\xa1Bienvenido!"),this.router.navigate(["/usuarios"]))}).catch(i=>{this.submitted=!1,this.toastr.error("No se pudo conectar al servidor","Error de conexi\xf3n")})}}toggleFieldTextType(){this.fieldTextType=!this.fieldTextType}static#t=this.\u0275fac=function(o){return new(o||e)(t.Y36(n.QS),t.Y36(d.F0),t.Y36(p.e),t.Y36(g._W),t.Y36(f.N))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-login"]],decls:55,vars:16,consts:[[1,"auth-page-wrapper","pt-5"],["id","auth-particles",1,"auth-one-bg-position","auth-one-bg"],[1,"bg-overlay"],[1,"shape"],["xmlns","http://www.w3.org/2000/svg","version","1.1",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 1440 120"],["d","M 0,36 C 144,53.6 432,123.2 720,124 C 1008,124.8 1296,56.8 1440,40L1440 140L0 140z"],[1,"auth-page-content"],[1,"container"],[1,"row"],[1,"col-lg-12"],[1,"text-center","mt-sm-5","mb-4","text-white-50"],["routerLink","",1,"d-inline-block","auth-logo"],["src","assets/images/logo-light.png","alt","","height","20"],[1,"mt-3","fs-15","fw-medium"],[1,"row","justify-content-center"],[1,"col-md-8","col-lg-6","col-xl-5"],[1,"card","mt-4"],[1,"card-body","p-4"],[1,"text-center","mt-2"],[1,"text-primary"],[1,"text-muted"],[1,"p-2","mt-4"],[3,"formGroup","ngSubmit"],[1,"mb-3"],["for","username",1,"form-label"],["type","email","id","username","placeholder","Ingrese el correo","formControlName","name",1,"form-control",3,"ngClass"],["class","invalid-feedback","align","left",4,"ngIf"],["for","password-input",1,"form-label"],[1,"position-relative","auth-pass-inputgroup","mb-3"],["placeholder","Enter password","id","password-input","formControlName","password",1,"form-control","pe-5","password-input",3,"type","ngClass"],["type","button","id","password-addon",1,"btn","btn-link","position-absolute","end-0","top-0","text-decoration-none","text-muted","password-addon"],[1,"mdi","align-middle",3,"ngClass","click"],["class","invalid-feedback",4,"ngIf"],[1,"mt-4"],["type","button","type","submit",1,"btn","btn-success","btn-load","w-100"],[1,"d-flex","align-items-center"],[1,"flex-grow-1","me-2"],["class","spinner-grow flex-shrink-0","role","status",4,"ngIf"],[1,"footer"],[1,"text-center"],[1,"mb-0","text-muted"],[1,"mdi","mdi-heart","text-danger"],["align","left",1,"invalid-feedback"],[4,"ngIf"],[1,"invalid-feedback"],["role","status",1,"spinner-grow","flex-shrink-0"],[1,"visually-hidden"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"div",2),t.TgZ(3,"div",3),t.O4$(),t.TgZ(4,"svg",4),t._UZ(5,"path",5),t.qZA()()(),t.kcU(),t.TgZ(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div")(12,"a",11),t._UZ(13,"img",12),t.qZA()(),t.TgZ(14,"p",13),t._uU(15,"Sist. cobro de servicios"),t.qZA()()()(),t.TgZ(16,"div",14)(17,"div",15)(18,"div",16)(19,"div",17)(20,"div",18)(21,"h5",19),t._uU(22,"Bienvenido !"),t.qZA(),t.TgZ(23,"p",20),t._uU(24," Inicie sesi\xf3n para ir a Cobros de servicios "),t.qZA()(),t.TgZ(25,"div",21)(26,"form",22),t.NdJ("ngSubmit",function(){return i.onSubmit()}),t.TgZ(27,"div",23)(28,"label",24),t._uU(29,"Correo"),t.qZA(),t._UZ(30,"input",25),t.YNc(31,h,2,1,"div",26),t.qZA(),t.TgZ(32,"div",23)(33,"label",27),t._uU(34,"Contrase\xf1a"),t.qZA(),t.TgZ(35,"div",28),t._UZ(36,"input",29),t.TgZ(37,"button",30)(38,"i",31),t.NdJ("click",function(){return i.toggleFieldTextType()}),t.qZA()(),t.YNc(39,T,2,1,"div",32),t.qZA()(),t.TgZ(40,"div",33)(41,"button",34)(42,"span",35)(43,"span",36),t._uU(44,"Iniciar sesi\xf3n"),t.qZA(),t.YNc(45,b,3,0,"span",37),t.qZA()()()()()()()()()()(),t.TgZ(46,"footer",38)(47,"div",7)(48,"div",8)(49,"div",9)(50,"div",39)(51,"p",40),t._uU(52),t._UZ(53,"i",41),t._uU(54," por TecnoSoft "),t.qZA()()()()()()()),2&o&&(t.xp6(26),t.Q6J("formGroup",i.loginForm),t.xp6(4),t.Q6J("ngClass",t.VKq(9,c,i.submitted&&i.f.name.errors)),t.xp6(1),t.Q6J("ngIf",i.submitted&&i.f.name.errors),t.xp6(5),t.Q6J("type",i.fieldTextType?"text":"password")("ngClass",t.VKq(11,c,i.submitted&&i.f.password.errors)),t.xp6(2),t.Q6J("ngClass",t.WLB(13,x,!i.fieldTextType,i.fieldTextType)),t.xp6(1),t.Q6J("ngIf",i.submitted&&i.f.password.errors),t.xp6(6),t.Q6J("ngIf",i.submitted),t.xp6(7),t.hij(" \xa9 ",i.year," Sist. cobro de servicios. "))},dependencies:[l.mk,l.O5,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,d.rH]})}return e})()}];let C=(()=>{class e{static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275mod=t.oAB({type:e});static#i=this.\u0275inj=t.cJS({imports:[d.Bz.forChild(w),d.Bz]})}return e})(),y=(()=>{class e{static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275mod=t.oAB({type:e});static#i=this.\u0275inj=t.cJS({imports:[l.ez,n.UX,n.u5,C]})}return e})()}}]);